# Security Policy

## ðŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ Linux ã‚µãƒ¼ãƒã® root æ¨©é™æ“ä½œã‚’æ‰±ã†ãŸã‚ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã®å ±å‘Šã¨å¯¾å¿œã‚’æœ€å„ªå…ˆäº‹é …ã¨ã—ã¦ã„ã¾ã™ã€‚

---

## ðŸš¨ è„†å¼±æ€§ã®å ±å‘Šæ–¹æ³•

### âš ï¸ é‡è¦: Public Issue ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚’ç™ºè¦‹ã—ãŸå ´åˆã€ä»¥ä¸‹ã®æ–¹æ³•ã§**éžå…¬é–‹**ã§å ±å‘Šã—ã¦ãã ã•ã„ï¼š

1. **GitHub Security Advisory** ã‚’ä½¿ç”¨ï¼ˆæŽ¨å¥¨ï¼‰
   - ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã® "Security" ã‚¿ãƒ– â†’ "Report a vulnerability"
   - å ±å‘Šã¯éžå…¬é–‹ã§å‡¦ç†ã•ã‚Œã€ä¿®æ­£å®Œäº†ã¾ã§å…¬é–‹ã•ã‚Œã¾ã›ã‚“

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†è€…ã¸ã®ç›´æŽ¥é€£çµ¡**
   - ãƒ¡ãƒ¼ãƒ«: [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹]
   - ä»¶å: `[SECURITY] Linux-Management-Systm è„†å¼±æ€§å ±å‘Š`

### å ±å‘Šã«å«ã‚ã‚‹ã¹ãæƒ…å ±

- è„†å¼±æ€§ã®ç¨®é¡žï¼ˆä¾‹: Command Injection, Path Traversal, ãªã©ï¼‰
- å½±éŸ¿ã‚’å—ã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«
- å†ç¾æ‰‹é †
- æƒ³å®šã•ã‚Œã‚‹å½±éŸ¿ç¯„å›²
- å¯èƒ½ã§ã‚ã‚Œã°ä¿®æ­£æ¡ˆ

---

## ðŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸºæº–ï¼ˆè¨­è¨ˆä¸Šã®ç¦æ­¢äº‹é …ï¼‰

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä»¥ä¸‹ã‚’**è¨­è¨ˆä¸Šç¦æ­¢**ã—ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã‚‰ã‚’æ¤œå‡ºã—ãŸå ´åˆã€å³åº§ã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚

### ã‚³ãƒ¼ãƒ‰ä¸Šã®ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³

```python
# âŒ shell=True ã®ä½¿ç”¨
subprocess.run("command", shell=True)

# âŒ os.system ã®ä½¿ç”¨
os.system("command")

# âŒ eval / exec ã®ä½¿ç”¨
eval(user_input)
exec(user_input)

# âŒ å‹•çš„ import
__import__(user_input)
```

### å…¥åŠ›æ¤œè¨¼ã®ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³

```python
# âŒ ç‰¹æ®Šæ–‡å­—ã®æœªæ¤œè¨¼ãªä½¿ç”¨
forbidden_chars = [";", "|", "&", "$", "(", ")", "`", ">", "<", "*", "?", "{", "}", "[", "]"]

# âŒ ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆæ–¹å¼ã®æ¤œè¨¼ï¼ˆallowlist ã®ã¿è¨±å¯ï¼‰
if command not in blacklist:  # ç¦æ­¢
    execute(command)
```

### sudo é–¢é€£ã®ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³

```bash
# âŒ ç›´æŽ¥çš„ãª sudo ã‚³ãƒžãƒ³ãƒ‰å®Ÿè¡Œ
sudo systemctl restart nginx

# âœ… æ­£ã—ã„æ–¹æ³•: ãƒ©ãƒƒãƒ‘ãƒ¼çµŒç”±
sudo /usr/local/sbin/adminui-service-restart nginx
```

---

## â±ï¸ å¯¾å¿œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

| æ·±åˆ»åº¦ | åˆæœŸå¿œç­” | ä¿®æ­£ãƒªãƒªãƒ¼ã‚¹ç›®æ¨™ |
|--------|---------|---------------|
| **Critical** | 24æ™‚é–“ä»¥å†… | 7æ—¥ä»¥å†… |
| **High** | 3æ—¥ä»¥å†… | 14æ—¥ä»¥å†… |
| **Medium** | 7æ—¥ä»¥å†… | 30æ—¥ä»¥å†… |
| **Low** | 14æ—¥ä»¥å†… | æ¬¡å›žãƒªãƒªãƒ¼ã‚¹æ™‚ |

---

## ðŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»

### è‡ªå‹•æ¤œæŸ»ï¼ˆCI/CDï¼‰

å…¨ Pull Request ã«å¯¾ã—ã¦ä»¥ä¸‹ã‚’è‡ªå‹•å®Ÿè¡Œï¼š

- **Bandit** - Python ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é™çš„è§£æž
- **ShellCheck** - Bash ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¤œè¨¼
- **Custom Security Checks** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º

### å®šæœŸç›£æŸ»

- æœˆæ¬¡: ä¾å­˜é–¢ä¿‚ã®è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆDependabotï¼‰
- å››åŠæœŸ: ã‚³ãƒ¼ãƒ‰å…¨ä½“ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- åŠæœŸ: å¤–éƒ¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ï¼ˆæŽ¨å¥¨ï¼‰

---

## ðŸ“‹ ã‚µãƒãƒ¼ãƒˆå¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚µãƒãƒ¼ãƒˆ |
|-----------|-------------------|
| v1.0.x    | âœ… ãƒ•ãƒ«ã‚µãƒãƒ¼ãƒˆ |
| v0.3.x    | âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã®ã¿ |
| v0.2.x    | âš ï¸ é‡å¤§ãªè„†å¼±æ€§ã®ã¿ |
| v0.1.x    | âŒ ã‚µãƒãƒ¼ãƒˆçµ‚äº† |

---

## ðŸŽ“ ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

é–‹ç™ºè€…ãƒ»ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¯ä»¥ä¸‹ã‚’éµå®ˆã—ã¦ãã ã•ã„ï¼š

### 1. Allowlist First
å®šç¾©ã•ã‚Œã¦ã„ãªã„æ“ä½œã¯å…¨æ‹’å¦ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€Œç¦æ­¢ã€ã€‚

### 2. Deny by Default
æ˜Žç¤ºçš„ã«è¨±å¯ã•ã‚ŒãŸã‚‚ã®ã®ã¿å®Ÿè¡Œå¯èƒ½ã€‚

### 3. Input Validation
å…¨ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã«å¯¾ã—ã¦åŽ³æ ¼ãªæ¤œè¨¼ã‚’å®Ÿæ–½ã€‚

### 4. Least Privilege
æœ€å°æ¨©é™ã®åŽŸå‰‡ã€‚root æ¨©é™ã¯å¿…è¦æœ€å°é™ã«ã€‚

### 5. Audit Logging
å…¨ã¦ã®æ“ä½œã‚’è¨˜éŒ²ã—ã€æ”¹ã–ã‚“é˜²æ­¢æŽªç½®ã‚’å®Ÿæ–½ã€‚

è©³ç´°ã¯ [CLAUDE.md](./CLAUDE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ðŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [CLAUDE.md](./CLAUDE.md) - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- [README.md](./README.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [CWE Top 25](https://cwe.mitre.org/top25/)

---

## ðŸ“ž ãŠå•ã„åˆã‚ã›

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹è³ªå•ãƒ»ç›¸è«‡ï¼š
- GitHub Security Advisoryï¼ˆæŽ¨å¥¨ï¼‰
- ãƒ¡ãƒ¼ãƒ«: [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹]

**ç¹°ã‚Šè¿”ã—ã«ãªã‚Šã¾ã™ãŒã€Public Issue ã§ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§å ±å‘Šã¯åŽ³ç¦ã§ã™ã€‚**

---

## ðŸ™ è¬è¾ž

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç ”ç©¶è€…ãƒ»ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼ã®çš†æ§˜ã®è²¬ä»»ã‚ã‚‹é–‹ç¤ºã«æ„Ÿè¬ã„ãŸã—ã¾ã™ã€‚

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®‰å…¨æ€§å‘ä¸Šã«ã”å”åŠ›ã„ãŸã ã„ãŸæ–¹ã€…:
- [è²¢çŒ®è€…ãƒªã‚¹ãƒˆ - ä»Šå¾Œè¿½åŠ ]

---

**æœ€çµ‚æ›´æ–°**: 2026-02-05
