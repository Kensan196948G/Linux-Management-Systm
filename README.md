#Linuxç®¡ç†é‹ç”¨ã‚·ã‚¹ãƒ†ãƒ 

**Secure Linux Management WebUI with sudo allowlist control, audit logging, and approval workflow**

> ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ŒLinuxã‚’æ“ä½œã™ã‚‹ãƒ„ãƒ¼ãƒ«ã€ã§ã¯ãªãã€ã€ŒLinuxé‹ç”¨ã‚’çµ±åˆ¶ã™ã‚‹ä»•çµ„ã¿ã€ã§ã‚ã‚‹ã€‚

---

## ðŸ“‹ æ¦‚è¦

Webminé¢¨ Linuxç®¡ç†WebUIã¯ã€Linuxã‚µãƒ¼ãƒã®é‹ç”¨ç®¡ç†ã‚’Webãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰å®‰å…¨ã«è¡Œã†ãŸã‚ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
Webminã®ä¾¿åˆ©ã•ã‚’è¸è¥²ã—ã¤ã¤ã€ä¼æ¥­ãƒ»çµ„ç¹”ã§ã®é‹ç”¨ã«å¿…è¦ãª**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çµ±åˆ¶**ã¨**ç›£æŸ»è¨¼è·¡**ã‚’æœ€å„ªå…ˆã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

### ðŸŽ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„

- **rootä½œæ¥­ã‚’WebUIçµŒç”±ã§å®‰å…¨ã«åˆ¶å¾¡**
- **sudoæ¨©é™ã‚’æœ€å°åŒ–ãƒ»å¯è¦–åŒ–**
- **æ“ä½œãƒ­ã‚°ã‚’å®Œå…¨ã«è¨¼è·¡åŒ–**
- **å°†æ¥çš„ãªITSMãƒ»æ‰¿èªãƒ•ãƒ­ãƒ¼é€£æºã‚’å‰æ**

### âŒ Webminã¨ã®é•ã„

| é …ç›® | Webmin | æœ¬ã‚·ã‚¹ãƒ†ãƒ  |
|------|--------|-----------|
| æ¨©é™åˆ¶å¾¡ | ç²—ã„ | ç´°å¯†ãªallowlist |
| ç›£æŸ»ãƒ­ã‚° | å¼±ã„ | å…¨æ“ä½œè¨¼è·¡åŒ– |
| æ‰¿èªãƒ•ãƒ­ãƒ¼ | ãªã— | å®Ÿè£…äºˆå®š |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ€æƒ³ | æ©Ÿèƒ½å„ªå…ˆ | **çµ±åˆ¶å„ªå…ˆ** |

---

## ðŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŽŸå‰‡ï¼ˆè¨­è¨ˆã®æ ¸å¿ƒï¼‰

### Allowlist First
å®šç¾©ã•ã‚Œã¦ã„ãªã„æ“ä½œã¯**å…¨æ‹’å¦**ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã€Œç¦æ­¢ã€ã€‚

### Deny by Default
æ˜Žç¤ºçš„ã«è¨±å¯ã•ã‚ŒãŸã‚‚ã®ã®ã¿å®Ÿè¡Œå¯èƒ½ã€‚

### Shellç¦æ­¢
`shell=True` ã®ä½¿ç”¨ã‚’å…¨é¢ç¦æ­¢ã€‚ã‚³ãƒžãƒ³ãƒ‰ã¯é…åˆ—ã§æ¸¡ã—ã€ã‚·ã‚§ãƒ«å±•é–‹ã‚’é˜²æ­¢ã€‚

### sudoæœ€å°åŒ–
ç›´æŽ¥çš„ãªsudoã‚³ãƒžãƒ³ãƒ‰å®Ÿè¡Œã‚’ç¦æ­¢ã€‚**å¿…ãšãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆçµŒç”±**ã§å®Ÿè¡Œã€‚

### ç›£æŸ»è¨¼è·¡
å…¨æ“ä½œã«ã¤ã„ã¦ã€Œèª°ãŒãƒ»ã„ã¤ãƒ»ä½•ã‚’ã€ã‚’è¨˜éŒ²ã—ã€æ”¹ã–ã‚“é˜²æ­¢ã€‚

---

## ðŸš« ç¦æ­¢æ“ä½œï¼ˆå³æ™‚æ‹’å¦ï¼‰

ä»¥ä¸‹ã®æ“ä½œã¯è¨­è¨ˆä¸Š**å®Œå…¨ã«ç¦æ­¢**ã•ã‚Œã¦ã„ã¾ã™ï¼š

- âŒ ä»»æ„ã‚³ãƒžãƒ³ãƒ‰ã®å®Ÿè¡Œ
- âŒ bash / sh ã®èµ·å‹•
- âŒ /etc é…ä¸‹ã®ç›´æŽ¥ç·¨é›†
- âŒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»sudoæ¨©é™ã®è¿½åŠ 
- âŒ ç‰¹æ®Šæ–‡å­—ã®ä½¿ç”¨: `; | & $( ) \` > < * ? { } [ ]`

---

## ðŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
[ Browser ]
   â†“ HTTPS
[ WebUI (HTML/JS) ]
   â†“ REST API
[ Backend (FastAPI) ]
   â†“ sudo (allowlist only)
[ Root Wrapper Scripts ]
   â†“ å…¥åŠ›æ¤œè¨¼ãƒ»å®Ÿè¡Œåˆ¶å¾¡
[ Linux OS / systemctl / journalctl ]
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ | å½¹å‰² |
|--------------|------------|------|
| **Frontend** | HTML/CSS/JavaScript | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ |
| **Backend** | FastAPI (Python) | APIæä¾›ãƒ»èªè¨¼ãƒ»æ¨©é™ç®¡ç† |
| **Wrappers** | Bash (é…åˆ—å¼•æ•°ã®ã¿) | sudoå®Ÿè¡Œã®å®‰å…¨ãªä»²ä»‹ |
| **Audit Log** | JSONå½¢å¼ | æ”¹ã–ã‚“é˜²æ­¢åž‹ãƒ­ã‚°è¨˜éŒ² |

---

## ðŸ“¦ æ©Ÿèƒ½ä¸€è¦§

### å‚ç…§ç³»æ©Ÿèƒ½ï¼ˆv0.1ã€œï¼‰

| æ©Ÿèƒ½ | å†…å®¹ |
|------|------|
| ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ | CPU / ãƒ¡ãƒ¢ãƒª / ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨çŽ‡ |
| ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ | systemctl status å–å¾— |
| ãƒ—ãƒ­ã‚»ã‚¹ä¸€è¦§ | ps / topï¼ˆå‚ç…§ã®ã¿ï¼‰ |
| ãƒ­ã‚°é–²è¦§ | journalctlï¼ˆæ¡ä»¶æŒ‡å®šï¼‰ |
| ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ | NIC/IP çŠ¶æ…‹è¡¨ç¤º |

### æ“ä½œç³»æ©Ÿèƒ½ï¼ˆv0.2ã€œã€é™å®šçš„ï¼‰

| æ“ä½œ | åˆ¶å¾¡æ–¹é‡ |
|------|---------|
| ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹• | è¨±å¯ãƒªã‚¹ãƒˆã®ã‚µãƒ¼ãƒ“ã‚¹ã®ã¿ |
| ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢ | åŽŸå‰‡ç¦æ­¢ï¼ˆæ‰¿èªæ™‚ã®ã¿ï¼‰ |
| ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ç¢ºèª | å‚ç…§ã®ã¿ |
| cron ç¢ºèª | å‚ç…§ã®ã¿ |

### ç®¡ç†ãƒ»ç›£æŸ»æ©Ÿèƒ½ï¼ˆv0.3ã€œï¼‰

| æ©Ÿèƒ½ | å†…å®¹ |
|------|------|
| æ“ä½œãƒ­ã‚° | èª°ãŒãƒ»ã„ã¤ãƒ»ä½•ã‚’ |
| å®Ÿè¡Œçµæžœè¨˜éŒ² | stdout / stderr |
| æ“ä½œåŒºåˆ† | å‚ç…§ / å®Ÿè¡Œ |
| ãƒ­ã‚°ä¿å…¨ | è¿½è¨˜å°‚ç”¨ãƒ»æ”¹ã–ã‚“é˜²æ­¢ |
| ç›£æŸ»å‡ºåŠ› | CSV / JSON ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |

---

## ðŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- Linux OSï¼ˆUbuntu 22.04 LTS ä»¥é™æŽ¨å¥¨ï¼‰
- Python 3.11+
- sudoæ¨©é™ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/Kensan196948G/Linux-Management-Systm.git
cd Linux-Management-Systm

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd backend
pip install -r requirements.txt

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
uvicorn api.main:app --reload
```

### åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

è©³ç´°ã¯ [ENVIRONMENT.md](./ENVIRONMENT.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ðŸ‘¥ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«

| ãƒ­ãƒ¼ãƒ« | æ¨©é™ |
|--------|------|
| **Viewer** | å‚ç…§ã®ã¿ |
| **Operator** | é™å®šçš„ãªæ“ä½œï¼ˆå†èµ·å‹•ãªã©ï¼‰ |
| **Approver** | å±é™ºæ“ä½œã®æ‰¿èªæ¨©é™ |
| **Admin** | ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç®¡ç† |

---

## ðŸ“Š é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

| ãƒ•ã‚§ãƒ¼ã‚º | å†…å®¹ | çŠ¶æ…‹ |
|---------|------|------|
| v0.1 | å‚ç…§ç³»æ©Ÿèƒ½ã®ã¿ | ðŸš§ é–‹ç™ºä¸­ |
| v0.2 | é™å®šçš„ãªæ“ä½œæ©Ÿèƒ½ | ðŸ“‹ è¨ˆç”»ä¸­ |
| v0.3 | æ‰¿èªãƒ•ãƒ­ãƒ¼å®Ÿè£… | ðŸ“‹ è¨ˆç”»ä¸­ |
| v1.0 | æœ¬ç•ªé‹ç”¨å¯¾å¿œ | ðŸ“‹ è¨ˆç”»ä¸­ |

---

## ðŸ› ï¸ é–‹ç™ºä½“åˆ¶

### ClaudeCode ä¸»å°Žé–‹ç™º

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **ClaudeCode** ã«ã‚ˆã‚‹è‡ªå‹•é–‹ç™ºã‚’æŽ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

- **SubAgent 7ä½“æ§‹æˆ**ï¼ˆPlanner / Architect / Backend / Frontend / Security / QA / CIManagerï¼‰
- **ä¸¦åˆ—ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼**ï¼ˆå…¨å¤‰æ›´ã«å¯¾ã—ã¦Security SubAgentãŒä¸¦åˆ—ã§æ¤œè¨¼ï¼‰
- **GitHub Actions è‡ªå‹•ä¿®å¾©**ï¼ˆãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã®è‡ªå‹•åŽŸå› åˆ†æžãƒ»ä¿®å¾©ï¼‰

è©³ç´°ã¯ [CLAUDE.md](./CLAUDE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…é ˆãƒã‚¤ãƒ³ãƒˆ

ä»¥ä¸‹ã®å¤‰æ›´ã¯**å¿…ãšäººé–“ã«ã‚ˆã‚‹æ‰¿èª**ãŒå¿…è¦ã§ã™ï¼š

- âœ‹ sudoers ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´
- âœ‹ æ–°è¦æ“ä½œã®è¿½åŠ 
- âœ‹ æ‰¿èªãƒ•ãƒ­ãƒ¼ã®å¤‰æ›´
- âœ‹ rootæ¨©é™ã«é–¢ã‚ã‚‹å¤‰æ›´

---

## ðŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚’ç™ºè¦‹ã—ãŸå ´åˆã¯ã€[SECURITY.md](./SECURITY.md) ã‚’å‚ç…§ã—ã¦å ±å‘Šã—ã¦ãã ã•ã„ã€‚

**Public Issue ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚**

---

## ðŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [CLAUDE.md](./CLAUDE.md) - ClaudeCodeé–‹ç™ºä»•æ§˜
- [ENVIRONMENT.md](./ENVIRONMENT.md) - é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [SECURITY.md](./SECURITY.md) - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼
- [docs/è¦ä»¶å®šç¾©æ›¸_è©³ç´°è¨­è¨ˆä»•æ§˜æ›¸.md](./docs/è¦ä»¶å®šç¾©æ›¸_è©³ç´°è¨­è¨ˆä»•æ§˜æ›¸.md) - è©³ç´°è¦ä»¶ãƒ»è¨­è¨ˆ
- [docs/é–‹ç™ºç’°å¢ƒä»•æ§˜æ›¸.md](./docs/é–‹ç™ºç’°å¢ƒä»•æ§˜æ›¸.md) - é–‹ç™ºç’°å¢ƒè©³ç´°

---

## ðŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](./LICENSE) ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ðŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ­“è¿Žã—ã¾ã™ï¼ãŸã ã—ã€ä»¥ä¸‹ã®åŽŸå‰‡ã‚’éµå®ˆã—ã¦ãã ã•ã„ï¼š

1. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ** - ä¾¿åˆ©ã•ã‚ˆã‚Šå®‰å…¨æ€§ã‚’å„ªå…ˆ
2. **Allowlistæ€æƒ³** - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ‹’å¦ã‚’å¾¹åº•
3. **ç›£æŸ»è¨¼è·¡** - å…¨ã¦ã®æ“ä½œã‚’è¨˜éŒ²
4. **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸** - æ–°æ©Ÿèƒ½ã«ã¯å¿…ãšãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 

Pull Request ã‚’é€ã‚‹å‰ã«ã€[CLAUDE.md](./CLAUDE.md) ã®é–‹ç™ºãƒãƒªã‚·ãƒ¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

---

## ðŸ“ž ãŠå•ã„åˆã‚ã›

- **Issues**: [GitHub Issues](https://github.com/Kensan196948G/Linux-Management-Systm/issues)
- **Security**: [SECURITY.md](./SECURITY.md) ã‚’å‚ç…§

---

## ðŸ™ è¬è¾ž

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ Webmin ã®æ€æƒ³ã«è§¦ç™ºã•ã‚Œã¤ã¤ã€ä¼æ¥­é‹ç”¨ã«å¿…è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çµ±åˆ¶ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚

---

**âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …**

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ Linux ã‚µãƒ¼ãƒã® root æ¨©é™æ“ä½œã‚’æ‰±ã„ã¾ã™ã€‚
**æœ¬ç•ªç’°å¢ƒã¸ã®å°Žå…¥å‰ã«ã€å¿…ãšååˆ†ãªãƒ†ã‚¹ãƒˆã¨ç›£æŸ»ã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚**

é–‹ç™ºè€…ãƒ»ç®¡ç†è€…ã¯ã€æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆæ€æƒ³ã§ã‚ã‚‹
**ã€Œçµ±åˆ¶å„ªå…ˆãƒ»å®‰å…¨ç¬¬ä¸€ã€** ã‚’å¸¸ã«å¿µé ­ã«ç½®ã„ã¦ãã ã•ã„ã€‚
