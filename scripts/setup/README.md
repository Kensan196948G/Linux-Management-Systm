# ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**é–‹ç™ºç’°å¢ƒãƒ»æœ¬ç•ªç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’è‡ªå‹•åŒ–**

---

## ğŸ“‹ æ¦‚è¦

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€é–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã‚’è‡ªå‹•çš„ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ« | OS | ç”¨é€” |
|---------|-----|------|
| `setup-dev-env.sh` | Linux/macOS | é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| `setup-prod-env.sh` | Linux | æœ¬ç•ªç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| `setup-dev-env.ps1` | Windows | é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| `setup-prod-env.ps1` | Windows | æœ¬ç•ªç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| `generate-ssl-cert.sh` | Linux/macOS | SSLè¨¼æ˜æ›¸ç”Ÿæˆ |
| `generate-ssl-cert.ps1` | Windows | SSLè¨¼æ˜æ›¸ç”Ÿæˆ |

---

## ğŸš€ ä½¿ã„æ–¹

### Linux/macOS

#### é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•
cd /path/to/Linux-Management-Systm

# 2. .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªãƒ»ç·¨é›†
nano .env

# 3. é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œ
./scripts/setup/setup-dev-env.sh
```

#### æœ¬ç•ªç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# æœ¬ç•ªç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œï¼ˆsudo å¿…è¦ï¼‰
./scripts/setup/setup-prod-env.sh
```

### Windows (PowerShell)

```powershell
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•
cd C:\path\to\Linux-Management-Systm

# 2. .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªãƒ»ç·¨é›†
notepad .env

# 3. é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œ
.\scripts\setup\setup-dev-env.ps1
```

---

## ğŸ” SSLè¨¼æ˜æ›¸ã®ç”Ÿæˆ

### Linux/macOS

```bash
# é–‹ç™ºç’°å¢ƒç”¨
./scripts/setup/generate-ssl-cert.sh dev

# æœ¬ç•ªç’°å¢ƒç”¨
./scripts/setup/generate-ssl-cert.sh prod
```

### Windows (PowerShell)

```powershell
# é–‹ç™ºç’°å¢ƒç”¨
.\scripts\setup\generate-ssl-cert.ps1 -Environment dev

# æœ¬ç•ªç’°å¢ƒç”¨
.\scripts\setup\generate-ssl-cert.ps1 -Environment prod
```

---

## ğŸ“Š ç’°å¢ƒè¨­å®š

### é–‹ç™ºç’°å¢ƒï¼ˆdevï¼‰

| é …ç›® | è¨­å®šå€¤ |
|------|--------|
| **ãƒãƒ¼ãƒˆï¼ˆHTTPï¼‰** | 3000 |
| **ãƒãƒ¼ãƒˆï¼ˆHTTPSï¼‰** | 3443 |
| **ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿** | æœ‰åŠ¹ |
| **ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰** | æœ‰åŠ¹ |
| **ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«** | DEBUG |
| **SSLè¨¼æ˜æ›¸** | ./certs/dev/ |

### æœ¬ç•ªç’°å¢ƒï¼ˆprodï¼‰

| é …ç›® | è¨­å®šå€¤ |
|------|--------|
| **ãƒãƒ¼ãƒˆï¼ˆHTTPï¼‰** | 8000 |
| **ãƒãƒ¼ãƒˆï¼ˆHTTPSï¼‰** | 8443 |
| **ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿** | ç„¡åŠ¹ |
| **ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰** | ç„¡åŠ¹ |
| **ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«** | INFO |
| **SSLè¨¼æ˜æ›¸** | ./certs/prod/ |

---

## ğŸ” ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å†…å®¹

### setup-dev-env.sh ãŒå®Ÿè¡Œã™ã‚‹ã“ã¨

1. âœ… .env ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
2. âœ… ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆdata/dev, logs/dev, certs/devï¼‰
3. âœ… SSL è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®ç”Ÿæˆ
4. âœ… Python ä»®æƒ³ç’°å¢ƒã®ä½œæˆ
5. âœ… ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆbackend/requirements.txtï¼‰
6. âœ… Node.js ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆfrontend/package.jsonï¼‰
7. âœ… ãƒãƒ¼ãƒˆç•ªå·ã®è¡çªãƒã‚§ãƒƒã‚¯

### setup-prod-env.sh ãŒå®Ÿè¡Œã™ã‚‹ã“ã¨

1. âœ… .env ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
2. âœ… æœ¬ç•ªç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆ/var/lib, /var/logï¼‰
3. âœ… SSL è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®ç”Ÿæˆ
4. âœ… æœ¬ç•ªç”¨ Python ä»®æƒ³ç’°å¢ƒã®ä½œæˆï¼ˆvenv-prodï¼‰
5. âœ… æœ¬ç•ªç”¨ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« + gunicorn
6. âœ… ãƒãƒ¼ãƒˆç•ªå·ã®è¡çªãƒã‚§ãƒƒã‚¯
7. âœ… systemd ã‚µãƒ¼ãƒ“ã‚¹è¨­å®šã®æ¡ˆå†…

---

## âš™ï¸ ç’°å¢ƒå¤‰æ•°ï¼ˆ.envï¼‰

```bash
# GitHub Token
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx

# é–‹ç™ºç’°å¢ƒ
DEV_IP=0.0.0.0
DEV_PORT=3000
DEV_HTTPS_PORT=3443

# æœ¬ç•ªç’°å¢ƒ
PROD_IP=0.0.0.0
PROD_PORT=8000
PROD_HTTPS_PORT=8443

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
DB_PATH=/var/lib/linux-management/data.db

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ç§˜å¯†éµï¼ˆæœ¬ç•ªç’°å¢ƒã§ã¯å¿…ãšå¤‰æ›´ï¼ï¼‰
SESSION_SECRET=change-this-in-production

# ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«
LOG_LEVEL=INFO
```

---

## ğŸ›  ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒˆç•ªå·ãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹

```bash
# ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’ç¢ºèª
netstat -tuln | grep -E ':(3000|3443|8000|8443)'

# ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç‰¹å®š
lsof -i :3000
```

### SSLè¨¼æ˜æ›¸ç”Ÿæˆã«å¤±æ•—

```bash
# OpenSSL ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
which openssl

# Ubuntu/Debian ã®å ´åˆ
sudo apt-get install openssl

# macOS ã®å ´åˆ
brew install openssl
```

### Python ä»®æƒ³ç’°å¢ƒã®ä½œæˆã«å¤±æ•—

```bash
# python3-venv ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
sudo apt-get install python3-venv
```

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [config/dev.json](../../config/dev.json) - é–‹ç™ºç’°å¢ƒè¨­å®š
- [config/prod.json](../../config/prod.json) - æœ¬ç•ªç’°å¢ƒè¨­å®š
- [.env.example](../../.env.example) - ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

---

## ğŸ”— æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¾Œ

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
cd backend
source ../venv/bin/activate
uvicorn api.main:app --host 0.0.0.0 --port 3000 --reload

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
# http://localhost:3000
```

### æœ¬ç•ªç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¾Œ

1. SESSION_SECRET ã‚’å¤‰æ›´ï¼ˆ.envï¼‰
2. sudo ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’é…ç½®
3. systemd ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¨­å®š
4. ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
5. ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•

```bash
sudo systemctl start linux-management-prod
sudo systemctl enable linux-management-prod
```

---

**æœ€çµ‚æ›´æ–°**: 2026-02-05
